<?xml version="1.0" encoding="UTF-8"?>
<!-- Copyright (c) 1998-2010 by xTuple. All rights reserved. -->
<!DOCTYPE section PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<section role="standard">
  <title>Send Document Electronically</title>
  <para id="submitEDI"><informalexample>
      <para>You may be presented with one of two screens, depending on whether
      the document will be sent by email or by FTP. If you do not see either
      screen, the EDI Profile has been set to disable review before sending
      and will automatically be sent to the Batch Manager.</para>
      <para>If the document will be sent by email, you will see the following
      screen:</para>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/submitEDI_email.png" />
        </imageobject>
        <caption><para>Review EDI Before Sending a document by
        email</para></caption>
      </mediaobject>
      <para>The fields at the top of the window show basic information about
      the EDI that will be sent:</para>
      <variablelist>
        <varlistentry>
          <term>A/R Open Item</term>
          <term>Credit Memo</term>
          <term>Customer #</term>
          <term>Invoice</term>
          <term>Order #</term>
          <term>Quote</term>
          <listitem>
            <para>This shows the document number of the document you want to
            schedule for delivery. Which label appears depends on the document
            being sent. The "Customer #" is shown when sending A/R
            Statements.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>EDI Type</term>
          <listitem>
            <para>This shows whether the EDI will be sent by email or
            FTP.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>The information in the following fields will be populated from the
      EDI Profile. If you have the "EditEDIBeforeSending" privilege, you will
      be allowed to edit the contents of these fields. You are presented with
      the following email-specific options:</para>
      <variablelist>
        <varlistentry>
          <term>From</term>
          <listitem>
            <para>This is the email address of the person sending the email.
            It can be set to the address of the user running the application
            or a generic address (e.g. "sales@xtuple.com"). If it is left
            blank on this screen, the Batch Manager will fill in the email
            address of the user running the application at the time the EDI
            was prepared.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Reply To</term>
          <listitem>
            <para>This is the reply-to address that will be set on the
            outgoing email message. This controls the email address used when
            someone replies to the email sent by xTuple ERP.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>To</term>
          <listitem>
            <para>This is the email address of the primary intended recipient
            of the email.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Cc</term>
          <listitem>
            <para>This is the carbon copy (i.e., Cc:) email address&mdash;a
            copy of the email will be sent to this address.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Bcc</term>
          <listitem>
            <para>This is the blind carbon copy (i.e., Bcc:) email
            address&mdash;a copy of the email will be sent to this address but
            none of the recipients will see this address.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Subject</term>
          <listitem>
            <para>This is the subject line that will be used for this
            email.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Message Body</term>
          <listitem>
            <para>This is the body of the email message that will be sent.
            This is a scrolling text field with word-wrapping.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Send Email as HTML</term>
          <listitem>
            <para>Select if you want the body of the Email to be sent as HTML.
            If not selected, the Email will be sent as plain text.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Attachment Options</term>
          <listitem>
            <para>Use the Attachment Options to control the contents and
            format of the file attached to this email. The following options
            are available, depending on the settings in the EDI
            Profile:</para>
            <variablelist>
              <varlistentry>
                <term>No Attachment</term>
                <listitem>
                  <para>No file will be attached to the email.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Report</term>
                <listitem>
                  <para>The named report will be run by the Batch Manager and
                  attached to the email as a .PDF file.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Form</term>
                <listitem>
                  <para>If the document is a Sales Order or an Invoice, the
                  Customer Form Assignment will be used. That report will be
                  run by the Batch manager and attached to the email as a .PDF
                  file.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Text Delimited By</term>
                <listitem>
                  <para>The queries defined in the EDI Form Details for the
                  EDI Profile will be run. The results will be used to build a
                  file with the fields delimited by the given character.
                  Pre-defined characters include the comma (",") and tab. If
                  you need to change the delimiter, select "[ not delimited ]"
                  from the drop-down menu, then replace that text with your
                  own single character. Normally, however, this should be left
                  to the value specified in the EDI Profile.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>Output File</term>
                <listitem>
                  <para>This is the name that will be given to the email
                  attachment. For Forms and Reports it should end with a
                  ".pdf" suffix. For comma-delimited files the output file
                  should end with ".csv". Tab-delimited files should have a
                  ".tsv" suffix.</para>
                </listitem>
              </varlistentry>
              <varlistentry>
                <term>PREVIEW</term>
                <listitem>
                  <para>This brings up a preview window to show what the
                  attachment will look like when generated by the Batch
                  Manager. It can show either reports or delimited text
                  files.</para>
                </listitem>
              </varlistentry>
            </variablelist>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>To the far right of the screen, the following buttons are
      available:</para>
      <variablelist>
        <varlistentry>
          <term>CANCEL</term>
          <listitem>
            <para>Closes the screen without scheduling a document for email
            delivery, returning you to the application desktop.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>ACCEPT</term>
          <listitem>
            <para>Select to submit the requested action to the Batch Manager
            for processing. If the EDI will be sent by email, there must be at
            least one email address in either the To, Cc, or Bcc
            fields.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>If the document will be sent by FTP, you will see the following
      screen.</para>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/submitEDI_ftp.png" />
        </imageobject>
        <caption><para>Review EDI Before Sending a document by
        FTP</para></caption>
      </mediaobject>
      <para>The Attachment Options will be the same as for sending email but
      the transmission options will be different. Get the values for these
      from the EDI recipient (either your Vendor or Customer, depending on the
      document type). See the xTuple Batch Manager Product Guide for one
      suggestion on how to store these data. You are presented with the
      following FTP-specific options:</para>
      <variablelist>
        <varlistentry>
          <term>Server</term>
          <listitem>
            <para>This is the host name or Internet address of the FTP server
            to send the document to.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Login Name</term>
          <listitem>
            <para>This is the user name required to log in to the FTP
            server.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Password</term>
          <listitem>
            <para>This is the password required to log in to the FTP
            server.</para>
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Directory</term>
          <listitem>
            <para>This is the directory in which the recipient wants you to
            put the EDI message on the FTP server.</para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para>If both the "Login Name" and "Password" fields are empty, the
      Batch Manager will attempt an anonymous FTP, using the name "anonymous"
      for the "Login Name" and the email address of the user submitting the
      EDI for the "Password".</para>
    </informalexample></para>
</section>
